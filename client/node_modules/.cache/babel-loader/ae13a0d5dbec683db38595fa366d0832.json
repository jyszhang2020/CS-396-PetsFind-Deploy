{"ast":null,"code":"import _defineProperty from\"/Users/jerry/Desktop/CS396-PetsFinder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/jerry/Desktop/CS396-PetsFinder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jerry/Desktop/CS396-PetsFinder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jerry/Desktop/CS396-PetsFinder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jerry/Desktop/CS396-PetsFinder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'../styles/Home.css';import CatImg from'../assets/cat-background.jpg';import'semantic-ui-css/semantic.min.css';import{catBreedOption,dogBreedOption,locationOption}from'./DropdownOptions';import SearchBox from'./SearchBox';import Carousel from'react-multi-carousel';import'react-multi-carousel/lib/styles.css';import{Input}from'semantic-ui-react';import history from'./history';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var responsive={superLargeDesktop:{// the naming can be any, depends on you.\nbreakpoint:{max:4000,min:3000},items:5},desktop:{breakpoint:{max:3000,min:1024},items:4},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}};var goToCarddetails=function goToCarddetails(pet){console.log(\"here\");localStorage.setItem(\"selectedPetID\",pet._id);// you can manage here to pass the clicked card id to the card details page if needed\n};var Home=/*#__PURE__*/function(_Component){_inherits(Home,_Component);var _super=_createSuper(Home);function Home(){var _this;_classCallCheck(this,Home);_this=_super.call(this);_this.handleChange=function(value,state){_this.setState(_defineProperty({},state,value));};_this.getOptions=function(keyword){if(keyword===\"breed\"){if(_this.state.species===\"Cat\"){return catBreedOption;}else if(_this.state.species===\"Dog\"){return dogBreedOption;}}else if(keyword===\"location\"){return locationOption;}return[];};_this.submitHandler=function(e){e.preventDefault();history.push({pathname:'/search',search:\"?species=\".concat(_this.state.species,\"&breed=\").concat(_this.state.breed,\"&location=\").concat(_this.state.location)});};_this.handleSubmitEmail=function(){fetch('http://localhost:8081/submitemail',{method:'POST',body:JSON.stringify({email:_this.state.email}),headers:{'Content-Type':'application/json','Access-Control-Allow-Origin':'*','Access-Control-Allow-Methods':'POST, GET, OPTIONS, PUT, DELETE'}}).then(function(response){return response.text();}).then(function(response){if(response==='success'){console.log(response);alert(\"You have already joined our mailing list!\");}else{alert(\"Email submission failed. Please try again later.\");}}).catch(function(err){return console.log(err);});};_this.state={species:'',breed:'',sex:'',location:'',err:'',email:'',featuredPets:[]};return _this;}_createClass(Home,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"http://localhost:8081/randompets\",{method:'GET',headers:{'Content-Type':'application/json','Access-Control-Allow-Origin':'*','Access-Control-Allow-Methods':'POST, GET, OPTIONS, PUT, DELETE'}}).then(function(response){return response.json();}).then(function(data){_this2.setState({featuredPets:data});console.log(data);}).catch(function(err){_this2.setState({err:err.message});});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{id:\"img-container\",children:[/*#__PURE__*/_jsx(\"img\",{id:\"background-img\",src:CatImg,alt:\"tabby cat lying on bed\"}),/*#__PURE__*/_jsx(\"div\",{id:\"text-line-one\",children:\"Looking for a furrever friend?\"}),/*#__PURE__*/_jsx(\"div\",{id:\"text-line-two\",children:\"Start a search on PetsFind!\"})]}),/*#__PURE__*/_jsx(SearchBox,{handleChange:this.handleChange,getOptions:this.getOptions,submitHandler:this.submitHandler}),/*#__PURE__*/_jsxs(\"div\",{id:\"carousel-container\",children:[/*#__PURE__*/_jsx(\"h2\",{id:\"carousel-header\",children:\" Featured Pets \"}),/*#__PURE__*/_jsx(Carousel,{responsive:responsive,children:this.state.featuredPets.map(function(pet){return/*#__PURE__*/_jsx(\"div\",{className:\"pet-carousel\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"pet-carousel-card\",onClick:function onClick(){goToCarddetails(pet);history.push('/allpets/'+pet._id);},children:[/*#__PURE__*/_jsx(\"div\",{class:\"pet-img-container\",children:/*#__PURE__*/_jsx(\"img\",{class:\"pet-img\",src:pet.image_url,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pet-card-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pet-card-name\",children:[\" \",pet.name,\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pet-card-detail\",children:[\" \",pet.breed?pet.breed:\"No breed info\",\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pet-card-detail\",children:[\" $\",pet.price,\" \"]})]})]})},pet._id);})})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"mailing-list\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"mailing-list-header\",children:\" Join Our Mailing List! \"}),/*#__PURE__*/_jsx(\"div\",{id:\"mailing-list-subheader\",children:\" Get Notified When a Pet is Available \"}),/*#__PURE__*/_jsx(Input,{action:{content:'Submit',onClick:this.handleSubmitEmail},placeholder:\"Your Email Address...\",onChange:function onChange(e,_ref){var value=_ref.value;return _this3.handleChange(value,\"email\");}})]})]});}}]);return Home;}(Component);export default Home;","map":{"version":3,"sources":["/Users/jerry/Desktop/CS396-PetsFinder/client/src/component/Home.js"],"names":["React","Component","CatImg","catBreedOption","dogBreedOption","locationOption","SearchBox","Carousel","Input","history","responsive","superLargeDesktop","breakpoint","max","min","items","desktop","tablet","mobile","goToCarddetails","pet","console","log","localStorage","setItem","_id","Home","handleChange","value","state","setState","getOptions","keyword","species","submitHandler","e","preventDefault","push","pathname","search","breed","location","handleSubmitEmail","fetch","method","body","JSON","stringify","email","headers","then","response","text","alert","catch","err","sex","featuredPets","json","data","message","map","image_url","name","price","content","onClick"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport '../styles/Home.css';\nimport CatImg from '../assets/cat-background.jpg';\nimport 'semantic-ui-css/semantic.min.css'\nimport {catBreedOption, dogBreedOption, locationOption} from './DropdownOptions';\nimport SearchBox from './SearchBox'\nimport Carousel from 'react-multi-carousel';\nimport 'react-multi-carousel/lib/styles.css';\nimport { Input } from 'semantic-ui-react'\nimport history from './history';\n\nconst responsive = {\n    superLargeDesktop: {\n        // the naming can be any, depends on you.\n        breakpoint: { max: 4000, min: 3000 },\n        items: 5\n    },\n    desktop: {\n        breakpoint: { max: 3000, min: 1024 },\n        items: 4\n    },\n    tablet: {\n        breakpoint: { max: 1024, min: 464 },\n        items: 2\n    },\n    mobile: {\n        breakpoint: { max: 464, min: 0 },\n        items: 1\n    }\n};\n\nconst goToCarddetails = (pet) => {\n    console.log(\"here\");\n    localStorage.setItem(\"selectedPetID\", pet._id);\n// you can manage here to pass the clicked card id to the card details page if needed\n}\n\nclass Home extends Component {\n    constructor() {\n        super();\n        this.state = {\n            species: '',\n            breed: '',\n            sex: '',\n            location: '',\n            err: '',\n            email: '',\n            featuredPets: []\n        }\n    }\n\n    componentDidMount() {\n        fetch(\"http://localhost:8081/randompets\", {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n                'Access-Control-Allow-Origin': '*',\n                'Access-Control-Allow-Methods': 'POST, GET, OPTIONS, PUT, DELETE',\n            }\n        })\n            .then(response => response.json())\n            .then(data => {\n                this.setState({featuredPets: data})\n                console.log(data)\n            })\n            .catch(err => {\n                this.setState({err: err.message});\n            })\n    }\n\n    handleChange = (value, state) => {\n        this.setState({[state]: value})\n    }\n\n    getOptions = keyword => {\n        if (keyword === \"breed\") {\n            if (this.state.species === \"Cat\") {\n                return catBreedOption\n            } else if (this.state.species === \"Dog\") {\n                return dogBreedOption\n            }\n        } else if (keyword === \"location\") {\n            return locationOption\n        }\n\n        return []\n    }\n\n    submitHandler = (e) => {\n        e.preventDefault();\n\n        history.push({\n            pathname: '/search',\n            search: `?species=${this.state.species}&breed=${this.state.breed}&location=${this.state.location}`,\n        })\n    }\n\n    handleSubmitEmail = () => {\n        fetch('http://localhost:8081/submitemail', {\n            method: 'POST',\n            body: JSON.stringify({\n                email: this.state.email\n            }),\n            headers: {\n                'Content-Type': 'application/json',\n                'Access-Control-Allow-Origin': '*',\n                'Access-Control-Allow-Methods': 'POST, GET, OPTIONS, PUT, DELETE',\n            }\n        })\n            .then((response) => response.text())\n            .then((response) => {\n                if (response === 'success') {\n                    console.log(response)\n                    alert(\"You have already joined our mailing list!\")\n                }\n                else {\n                    alert(\"Email submission failed. Please try again later.\")\n                }\n            })\n            .catch((err) => console.log(err))\n    }\n\n    render() {\n        return (\n            <div>\n                <div id=\"img-container\">\n                    <img id=\"background-img\" src={CatImg} alt=\"tabby cat lying on bed\"/>\n                    <div id=\"text-line-one\">Looking for a furrever friend?</div>\n                    <div id=\"text-line-two\">Start a search on PetsFind!</div>\n                </div>\n                <SearchBox\n                    handleChange={this.handleChange}\n                    getOptions={this.getOptions}\n                    submitHandler={this.submitHandler}\n                />\n                <div id=\"carousel-container\">\n                    <h2 id=\"carousel-header\"> Featured Pets </h2>\n                    <Carousel responsive={responsive}>\n                        {this.state.featuredPets.map(pet => (\n                            <div className=\"pet-carousel\" key={pet._id}>\n                                <div className=\"pet-carousel-card\" onClick={() => {\n                                            goToCarddetails(pet)\n                                            history.push('/allpets/' + pet._id);\n                                            }}>\n                                    <div class=\"pet-img-container\">\n                                        <img class=\"pet-img\" src={pet.image_url} alt=\"\"/>\n                                    </div>\n                                    <div className=\"pet-card-info\">\n                                        <div className=\"pet-card-name\"> {pet.name} </div>\n                                        <div className=\"pet-card-detail\"> {pet.breed ? pet.breed : \"No breed info\"} </div>\n                                        <div className=\"pet-card-detail\"> ${pet.price} </div>\n                                    </div>\n                                </div>\n                            </div>\n                        ))}\n                    </Carousel>\n                </div>\n                <div id=\"mailing-list\">\n                    <div id=\"mailing-list-header\"> Join Our Mailing List! </div>\n                    <div id=\"mailing-list-subheader\"> Get Notified When a Pet is Available </div>\n                    <Input action={{content: 'Submit', onClick: this.handleSubmitEmail}} placeholder='Your Email Address...' onChange={(e, {value}) => this.handleChange(value, \"email\")}/>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}